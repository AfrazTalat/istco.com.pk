import{aa as g,aC as m,aJ as d}from"./entry.8386a641.js";function p(n,o){return n??o()}function f(n){let o,a=n[0],l=1;for(;l<n.length;){const r=n[l],i=n[l+1];if(l+=2,(r==="optionalAccess"||r==="optionalCall")&&a==null)return;r==="access"||r==="optionalAccess"?(o=a,a=i(a)):(r==="call"||r==="optionalCall")&&(a=i((...c)=>a.call(o,...c)),o=void 0)}return a}const T=n=>{const o=g(),a=m(),l=`${o.public.apiUrl}/${o.public.apiVersion}/${n}`,r=t=>{const e=f([t,"access",s=>s.response,"optionalAccess",s=>s._data]);if(e.message||e.title){const s=e.errors;d().add({title:p(e.message,()=>e.title),message:s?typeof s!="string"?Object.values(s).join(`
`):s:void 0,type:"danger",displaySeconds:3})}},i=t=>{const e=f([t,"access",s=>s.response,"optionalAccess",s=>s._data]);if(e.message||e.title){const s=p(e.errors,()=>e.message);d().add({title:p(e.title,()=>e.message),message:s?typeof s!="string"?Object.values(s).join(`
`):s:void 0,type:e.status==="success"?"success":"danger",displaySeconds:3})}},c=(t,e="GET",s)=>{const u={params:{},headers:{},data:{},...s};return $fetch(`${l}${p(t,()=>"")}`,{method:e,params:u.params,body:e==="GET"?void 0:u.data,headers:{ClientLocale:a.$i18n.locale.value,...u.headers},onResponseError:r,onResponse:i})};return{get:(t,e)=>c(t,"GET",e),post:(t,e)=>c(t,"POST",e),patch:(t,e)=>c(t,"PATCH",e),put:(t,e)=>c(t,"PUT",e),del:(t,e)=>c(t,"DELETE",e)}};export{T as u};
